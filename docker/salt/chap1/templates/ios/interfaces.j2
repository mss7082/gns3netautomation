{# TO DO - Create filter to get network id and network mask from cidr#}
{%- set interfaces = pillar.interfaces -%}

{% for interface_dict in interfaces %}
{% for intf in interface_dict.keys() %}
interface {{intf}}
  {% if intf.description %}
  description {{intf.description}}
  {% endif %}
  {% if intf.ipv4addr %}
  ip address {{intf.ipv4addr | split("/")[0]}} 255.255.255.0
  {% endif %}
  {% if intf.ipv6addr %}
  ip address {{intf.ipv6addr}}
  {% endif %}
  no shut
{% endfor -%}
{% endfor -%}
